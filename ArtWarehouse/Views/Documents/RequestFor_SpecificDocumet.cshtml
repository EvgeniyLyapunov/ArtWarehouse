@model ArtWarehouse.Models.ModelsView.SpecificDocument_MV
@{
    ViewData["Title"] = "Документы";
}

<head>
    <link rel="stylesheet" href="~/css/documents/document.css" />
</head>

<div class="documents-content">
    <div class="documents-table">
        <div class="document-head mb-3">
            @if (Model.type_order == "arrival of goods")
            {
                <span>Приходный документ&nbsp;№</span>
            }
            else
            {
                <span>Расходный документ&nbsp;№</span>
            }
            <span>@Model.Id_Order</span>
            <span>&nbsp;от&nbsp;@Model.date_order.ToShortDateString()</span>
        </div>

        <table class="table table-bordered table-striped" style="width: 100%">
            <thead>
                <tr>
                    <th >Наименование</th>
                    <th >Описание</th>
                    <th class="text-center">Производитель</th>
                    <th class="text-center">Категория</th>
                    <th class="text-center">Цена</th>
                    <th class="text-center">Кол-во шт</th>
                </tr>
            </thead>
            <tbody>
                @foreach(var row in Model.GoodsList)
                {
                    <tr class="goods-row">
                        <td class="goods-cell" style="width: 20%">
                            @row.goods_name
                        </td>
                        <td class="goods-cell" style="width: 30%">
                            @row.goods_descr
                        </td>
                        <td class="goods-cell text-center" style="width: 15%">
                            @row.maker_name
                        </td>
                        <td class="goods-cell text-center" style="width: 15%">
                            @row.category_name
                        </td>
                        <td class="goods-cell text-center" style="width: 10%">
                            @row.goods_price
                        </td>
                        <td class="goods-cell text-center" style="width: 10%">
                            @row.Quantity
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

@section Scripts {
    <script>
        const mainTabsEl = document.querySelector('.main-tabs');
        const listTabItems = mainTabsEl.querySelectorAll('.tab-item');

        listTabItems.forEach(item => {
            item.classList.remove('tab-item_active');

            if (item.textContent == 'Документы') {
                item.classList.add('tab-item_active');
            }
        });

        const screenHeight = document.documentElement.clientHeight;
        const header = document.querySelector('.header');
        const contentHeight = screenHeight - header.offsetHeight;

        const contentElement = document.querySelector('.documents-content');
        contentElement.style.height = `${contentHeight}px`;

        const documentsTableElement = document.querySelector('.documents-table');
        documentsTableElement.style.height = `${contentHeight - 2}px`;
    </script>
}